(function(_0x44ea38,_0x3e7e47){const _0x3fc4c4=a17_0x18a8,_0x11baeb=_0x44ea38();while(!![]){try{const _0xeefa5f=-parseInt(_0x3fc4c4(0x1f5))/0x1*(-parseInt(_0x3fc4c4(0x1d9))/0x2)+parseInt(_0x3fc4c4(0x1c1))/0x3*(parseInt(_0x3fc4c4(0x1eb))/0x4)+-parseInt(_0x3fc4c4(0x1d0))/0x5*(parseInt(_0x3fc4c4(0x1b2))/0x6)+parseInt(_0x3fc4c4(0x1cd))/0x7+-parseInt(_0x3fc4c4(0x1dc))/0x8*(-parseInt(_0x3fc4c4(0x1cc))/0x9)+-parseInt(_0x3fc4c4(0x1c5))/0xa*(-parseInt(_0x3fc4c4(0x1c9))/0xb)+parseInt(_0x3fc4c4(0x1c0))/0xc*(-parseInt(_0x3fc4c4(0x1ee))/0xd);if(_0xeefa5f===_0x3e7e47)break;else _0x11baeb['push'](_0x11baeb['shift']());}catch(_0x4ac3de){_0x11baeb['push'](_0x11baeb['shift']());}}}(a17_0x5643,0x36aac));import a17_0x23ee04 from'ws';import{createDelCatReq,createGatherGoldReq,createGetAirDropCatReq,createHeartBeatReq,createMergeCatReq,decodeMessage,getDuplicateLvl,getSmallestCatsLvl}from'./helper.js';import{formatNumber,getOrdinalSuffix}from'../utils/helper.js';import a17_0x5003d4 from'chalk';function a17_0x18a8(_0x37863d,_0x3c38df){const _0x56435c=a17_0x5643();return a17_0x18a8=function(_0x18a873,_0x554c4c){_0x18a873=_0x18a873-0x1b1;let _0x5ea4fb=_0x56435c[_0x18a873];return _0x5ea4fb;},a17_0x18a8(_0x37863d,_0x3c38df);}export class WebSocketClient{constructor(_0x3eeaa5){const _0x2ed4da=a17_0x18a8;Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1ea),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1f3),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x2ed4da(0x1ec),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1bb),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,_0x2ed4da(0x1ed),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1ef),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1b8),{'enumerable':!![],'configurable':!![],'writable':!![],'value':0x1}),Object[_0x2ed4da(0x1e8)](this,'ws',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,'logCallback',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1ba),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x2ed4da(0x1e8)](this,'isConnected',{'enumerable':!![],'configurable':!![],'writable':!![],'value':![]}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1e7),{'enumerable':!![],'configurable':!![],'writable':!![],'value':null}),Object[_0x2ed4da(0x1e8)](this,'connect',{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x3ffa92=_0x2ed4da;this['ws']=new a17_0x23ee04(this[_0x3ffa92(0x1ea)],this[_0x3ffa92(0x1ef)]),this['ws']['on']('open',()=>{const _0x40fb10=_0x3ffa92,_0x5b3406=Buffer['from'](this[_0x40fb10(0x1f3)],_0x40fb10(0x1bf));this[_0x40fb10(0x1c6)](_0x5b3406),this['reconnectAttempts']=0x0,this[_0x40fb10(0x1c4)]({'event':_0x40fb10(0x1f1)});}),this['ws']['on'](_0x3ffa92(0x1d3),_0x5230a7=>{const _0x40ed07=_0x3ffa92;this[_0x40ed07(0x1f2)](_0x5230a7);}),this['ws']['on'](_0x3ffa92(0x1e0),()=>{const _0x4c1182=_0x3ffa92;this['attemptReconnect'](),this[_0x4c1182(0x1db)]=![],this[_0x4c1182(0x1c4)]({'event':_0x4c1182(0x1e0)});}),this['ws']['on'](_0x3ffa92(0x1e6),_0xc11454=>{const _0x1f9758=_0x3ffa92;this[_0x1f9758(0x1e3)](''+a17_0x5003d4[_0x1f9758(0x1d2)](_0x1f9758(0x1f0)+_0xc11454)),this[_0x1f9758(0x1db)]=![],this[_0x1f9758(0x1c4)]({'event':_0x1f9758(0x1e6)});});}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1e3),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x37f0f7=>{const _0x38d6f5=_0x2ed4da;this['logCallback']&&this[_0x38d6f5(0x1e4)](_0x37f0f7);}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1c4),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x4e1e94=>{const _0x2dcd7f=_0x2ed4da;this['eventCallback']&&this[_0x2dcd7f(0x1ba)](_0x4e1e94);}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1f2),{'enumerable':!![],'configurable':!![],'writable':!![],'value':async _0x335612=>{const _0x3d62fb=_0x2ed4da;let _0x4802e7;while(!![]){try{_0x4802e7=await decodeMessage(_0x335612[_0x3d62fb(0x1b7)](_0x3d62fb(0x1bf)));break;}catch(_0x1c7d35){}}const _0x255707=JSON[_0x3d62fb(0x1b5)](_0x4802e7);switch(_0x255707[_0x3d62fb(0x1be)]){case'EnterGameAck':this[_0x3d62fb(0x1e7)]=_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1f4)],this[_0x3d62fb(0x1cb)](),this[_0x3d62fb(0x1d7)](),this[_0x3d62fb(0x1e1)](),this[_0x3d62fb(0x1db)]=!![],this[_0x3d62fb(0x1c8)](),this[_0x3d62fb(0x1e3)](''+a17_0x5003d4[_0x3d62fb(0x1bc)]('Connected\x20to\x20game\x20server')),this[_0x3d62fb(0x1c4)]({'event':_0x3d62fb(0x1dd)});break;case'GatherGoldAck':if(this[_0x3d62fb(0x1e7)]){const _0x132429=formatNumber(parseInt(_0x255707['data'][_0x3d62fb(0x1c3)])-parseInt(this[_0x3d62fb(0x1e7)][_0x3d62fb(0x1c3)]));this[_0x3d62fb(0x1e7)][_0x3d62fb(0x1c3)]=_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1c3)],this[_0x3d62fb(0x1e7)][_0x3d62fb(0x1b6)]=_0x255707[_0x3d62fb(0x1c7)]['goldTime'],this[_0x3d62fb(0x1e3)](a17_0x5003d4[_0x3d62fb(0x1bc)]('Collected')+'\x20'+a17_0x5003d4[_0x3d62fb(0x1b3)](_0x132429)+'\x20'+a17_0x5003d4['greenBright'](_0x3d62fb(0x1c2))),this[_0x3d62fb(0x1c4)]({'event':'user'});}break;case _0x3d62fb(0x1ce):this[_0x3d62fb(0x1e7)]&&(_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1b1)]!==-0x1&&(this[_0x3d62fb(0x1e7)][_0x3d62fb(0x1d1)]=_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1d1)],this['setOnEvents']({'event':_0x3d62fb(0x1e7)}),this[_0x3d62fb(0x1c8)](),_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1b1)]!==undefined&&this[_0x3d62fb(0x1e3)](a17_0x5003d4[_0x3d62fb(0x1ca)](_0x3d62fb(0x1cf))+'\x20'+a17_0x5003d4[_0x3d62fb(0x1b3)](_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1d1)][_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1b1)]]))));break;case _0x3d62fb(0x1e5):this[_0x3d62fb(0x1e7)]&&(this[_0x3d62fb(0x1e7)][_0x3d62fb(0x1d1)]=_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1d1)],this['checkMergerOrDeleteCats'](),this[_0x3d62fb(0x1c4)]({'event':'user'}));break;case'DelCatAck':this[_0x3d62fb(0x1e7)]&&(this['user']['cats']=_0x255707[_0x3d62fb(0x1c7)][_0x3d62fb(0x1d1)],this[_0x3d62fb(0x1c4)]({'event':_0x3d62fb(0x1e7)}));break;case _0x3d62fb(0x1d8):break;default:}}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1b4),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x97fe01=_0x2ed4da;this['reconnectAttempts']<this[_0x97fe01(0x1bb)]?setTimeout(()=>{const _0x5095fc=_0x97fe01;this['setOnLogs'](a17_0x5003d4[_0x5095fc(0x1e2)]('Reconnecting...')+'\x20'+a17_0x5003d4[_0x5095fc(0x1de)]('('+(this[_0x5095fc(0x1ed)]+0x1)+')')),this['reconnectAttempts']++,this['connect']();},this[_0x97fe01(0x1ec)]):this[_0x97fe01(0x1e3)](''+a17_0x5003d4[_0x97fe01(0x1d2)]('Max\x20reconnect\x20attempts\x20reached'));}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1cb),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0xe95844=async()=>{const _0x24ef58=a17_0x18a8;if(this[_0x24ef58(0x1e7)]&&this[_0x24ef58(0x1db)])try{this[_0x24ef58(0x1b8)]++;const _0x2a1b44=await createHeartBeatReq(this['transId']),_0xc3ebe7=Buffer['from'](_0x2a1b44,_0x24ef58(0x1bf));this[_0x24ef58(0x1c6)](_0xc3ebe7);}catch(_0x476ec6){}};setInterval(_0xe95844,0x3e8);}}),Object['defineProperty'](this,_0x2ed4da(0x1d7),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x1c23f8=async()=>{const _0x4421e7=a17_0x18a8;if(this[_0x4421e7(0x1e7)]&&this[_0x4421e7(0x1db)])try{this['transId']++;const _0x26c5da=await createGatherGoldReq(this[_0x4421e7(0x1b8)]),_0xf5db58=Buffer['from'](_0x26c5da,'hex');this['send'](_0xf5db58);}catch(_0x566e9f){}};setInterval(_0x1c23f8,0x2710);}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1e1),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x3a7e04=async()=>{const _0x531ecf=a17_0x18a8;if(this[_0x531ecf(0x1e7)]&&this[_0x531ecf(0x1db)])try{this[_0x531ecf(0x1b8)]++;const _0x36b157=await createGetAirDropCatReq(this[_0x531ecf(0x1b8)]),_0x1a890e=Buffer[_0x531ecf(0x1d6)](_0x36b157,_0x531ecf(0x1bf));this['send'](_0x1a890e);}catch(_0x47ae0a){}};setInterval(_0x3a7e04,0x61a8);}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1c8),{'enumerable':!![],'configurable':!![],'writable':!![],'value':async()=>{const _0x19ef27=_0x2ed4da;if(this[_0x19ef27(0x1e7)]&&this[_0x19ef27(0x1db)]){const _0x1a71f6=getDuplicateLvl(this[_0x19ef27(0x1e7)][_0x19ef27(0x1d1)]);if(_0x1a71f6[_0x19ef27(0x1d5)]>0x0&&_0x1a71f6[0x0]!==undefined)try{this['transId']++;const _0x54d2cf=await createMergeCatReq(this[_0x19ef27(0x1b8)],_0x1a71f6[0x0]);this[_0x19ef27(0x1e3)](a17_0x5003d4[_0x19ef27(0x1bc)](_0x19ef27(0x1b9))+'\x20'+a17_0x5003d4['whiteBright'](getOrdinalSuffix(_0x1a71f6[0x0][0x0]+0x1))+'\x20'+a17_0x5003d4['greenBright'](_0x19ef27(0x1e9))+'\x20'+a17_0x5003d4[_0x19ef27(0x1b3)](getOrdinalSuffix(_0x1a71f6[0x0][0x1]+0x1))+'\x20'+a17_0x5003d4[_0x19ef27(0x1bc)](_0x19ef27(0x1df)));const _0x99e23a=Buffer[_0x19ef27(0x1d6)](_0x54d2cf,_0x19ef27(0x1bf));this['send'](_0x99e23a);}catch(_0x4a9698){}else{if(this[_0x19ef27(0x1e7)][_0x19ef27(0x1d1)][_0x19ef27(0x1d4)](_0x3dbab7=>_0x3dbab7===0x0)[_0x19ef27(0x1d5)]<0x2){const _0x8af45f=getSmallestCatsLvl(this[_0x19ef27(0x1e7)][_0x19ef27(0x1d1)]);try{if(this[_0x19ef27(0x1e7)][_0x19ef27(0x1d1)][_0x8af45f]!==0x0){this['transId']++;const _0xa2445d=await createDelCatReq(this['transId'],_0x8af45f);this[_0x19ef27(0x1e3)](a17_0x5003d4['redBright']('Delete\x20Cats\x20LVL')+'\x20'+a17_0x5003d4[_0x19ef27(0x1b3)](this[_0x19ef27(0x1e7)][_0x19ef27(0x1d1)][_0x8af45f]));const _0x441ecf=Buffer['from'](_0xa2445d,_0x19ef27(0x1bf));this[_0x19ef27(0x1c6)](_0x441ecf);}}catch(_0x36c266){}}}}}}),Object[_0x2ed4da(0x1e8)](this,'onLogs',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x29f2eb=>{const _0x5561f1=_0x2ed4da;this[_0x5561f1(0x1e4)]=_0x29f2eb;}}),Object['defineProperty'](this,_0x2ed4da(0x1da),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x30f97a=>{this['eventCallback']=_0x30f97a;}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1c6),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x1a77ea=>{const _0x4f9674=_0x2ed4da;this['ws']&&this['ws']['readyState']===a17_0x23ee04[_0x4f9674(0x1bd)]&&this['ws'][_0x4f9674(0x1c6)](_0x1a77ea);}}),Object[_0x2ed4da(0x1e8)](this,_0x2ed4da(0x1e0),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x297448=_0x2ed4da;this['ws']&&this['ws'][_0x297448(0x1e0)]();}}),this['url']=_0x3eeaa5['url'],this[_0x2ed4da(0x1f3)]=_0x3eeaa5[_0x2ed4da(0x1f3)],this[_0x2ed4da(0x1ec)]=_0x3eeaa5[_0x2ed4da(0x1ec)]||0x1388,this[_0x2ed4da(0x1bb)]=_0x3eeaa5['maxReconnectAttempts']||0xa,this[_0x2ed4da(0x1ef)]=_0x3eeaa5['websocketOption']||{},this[_0x2ed4da(0x1ed)]=0x0,this['ws']=null,this[_0x2ed4da(0x1dd)]();}}function a17_0x5643(){const _0x1a4dfd=['reconnectInterval','reconnectAttempts','715sUZVSB','websocketOption','WebSocket\x20error:\x20','open','handleMessage','credentials','userInfo','1zTuzfe','airdropIndex','39378wzDNiR','whiteBright','attemptReconnect','parse','goldTime','toString','transId','Mate\x20The','eventCallback','maxReconnectAttempts','greenBright','OPEN','protoName','hex','222324aOQuTz','746751PSJEIb','Gold','gold','setOnEvents','26840Wnfgpt','send','data','checkMergerOrDeleteCats','132CyWwHu','magentaBright','runtimeHeartBeatReq','9njlxSU','2822897KQqJHc','GetAirDropCatAck','Got\x20Airdrop\x20Cat\x20LVL','50HYvFbg','cats','redBright','message','filter','length','from','runtimeGatherGoldReq','HeartBeatAck','674184eDruPC','onEvents','isConnected','2296344lPLUyB','connect','blackBright','Cats','close','runtimeGetAirDropCatReq','yellowBright','setOnLogs','logCallback','MergeCatAck','error','user','defineProperty','And','url','4EkBcxj'];a17_0x5643=function(){return _0x1a4dfd;};return a17_0x5643();}